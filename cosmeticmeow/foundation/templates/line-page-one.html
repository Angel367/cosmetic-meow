{% extends 'base_elements/base.html' %}
{% load static %}
{% block title %}{{ product.name }}{% endblock title %}
{% block head %}
    <link rel="stylesheet" href="{% static 'css/line-page-one.css' %}">
    <link rel="stylesheet" href="{% static 'css/base_elements/blue_button.css' %}">
{#    <link rel="stylesheet" href="{% static 'css/base_elements/small_product.css' %}">#}
{% endblock head %}

{% block header %} 
    {% include 'base_elements/header.html' %}
{% endblock header %}

{% block main %}
<main>
<a href="{% url 'foundation:line_page' %}"  class="close">
    </a>
<article>
<section class="img-holder-section">
    <div class="img-holder">
{#        {% for image in product.get_images %}#}
{#            <img src="{{ image.image.url }}" alt="{{ product.name }} Image">#}
{#        {% endfor %}#}
        <div class="img-small" ><img src="{% static 'img/main/course.png'%}" alt="Course"></div>
        <div class="img-small" ><img src="{% static 'img/main/main_article.png'%}" alt="Main article"></div>
        <div class="img-small" ><img src="{% static 'img/main/main_article_mobile.png'%}" alt="Main article mobile"></div>
        <div class="img-small" ><img src="{% static 'img/line-page/img.png'%}" alt="Line page"></div>
        <div class="img-small" ><img src="{% static 'img/main/product.png'%}" alt="Product"></div>
                
</div>  
        <div class="img-main">
            <img id="mainImage" src="{% static 'img/main/course.png'%}" alt="Course">
        </div>
    
        

</section>
    <section>
        <div class="main-info"> 
            <p class="product-name">{{ product.name }}</p>
            <p class="product-description">{{ product.short_description }}</p>
            <p class="product-price">{{ product.price }} руб.</p>
            <a href="" class="blue button">Добавить в корзину</a>
            <p>Shop product on other marketplaces</p>
            <div class="link-holder">
                <a href="" class="link-to-other">Ozon
                <img alt="" src="{% static 'img/line-page/pink-arrow.svg'%}">
        </a>
            
            <a href="" class="link-to-other">Wildberries
                <img alt="" src="{% static 'img/line-page/pink-arrow.svg'%}">
        </a>
            <a href="" class="link-to-other">Beru
                <img alt="" src="{% static 'img/line-page/pink-arrow.svg'%}">
        </a>
                
            
        </div>
            <div class="info">
                <div class="controls-text"> 
                <input type="radio" id="description-radio" name="info" class="info-radio" checked>
                <label for="description-radio" class="info-label">Описание</label>
                <input type="radio" id="usage-radio" name="info" class="info-radio">
                <label for="usage-radio" class="info-label">Использование</label>
                <input type="radio" id="composition-radio" name="info" class="info-radio">
                <label for="composition-radio" class="info-label">Состав</label>
                <div>
                    <p class="info-text" id="description-text">
                        1.product.long_description{{ product.long_description }}
                        1.product.long_description{{ product.long_description }}
                        1.product.long_description{{ product.long_description }}
                        1.product.long_description{{ product.long_description }}
                    </p> 
                    <p class="info-text" id="usage-text">
{#                        2.{{ product.usage }}#}
                        2. product.usage{{ product.long_description }}
                        2. product.usage{{ product.long_description }}
                        2. product.usage{{ product.long_description }}
                        2. product.usage{{ product.long_description }}
                    </p>
                    <p class="info-text" id="composition-text">
{#                        3.{{ product.composition }}#}
                        3.product.composition{{ product.long_description }}
                        3.product.composition{{ product.long_description }}
                        3.product.composition{{ product.long_description }}
                        3.product.composition{{ product.long_description }}
                    </p>
                </div>
            </div>
        </div>
    </div>
    </section>
</article>
<a href="{% url 'foundation:line_page' %}"
   class="back">К линейке продуктов
<img src="{% static 'img/line-page/black-arrow.svg'%}" alt="arrow">
</a>
</main>
    
{% endblock main %}
{% block footer %} 
    {% include 'base_elements/footer.html'  %}
{% endblock footer %}
{% block js%}
    
    <script>
    
        
        
    onClickImage = (e) => {
        
        
        if (e.target.tagName !== 'IMG') return;
        const imageUrl = e.target.src;
        {#console.log( e.currentTarget.backgroundColor)#}
        let imgs = document.querySelectorAll('.img-small');
        imgs.forEach(image => {
            image.style.backgroundColor ='#FFF';
             image.style.borderColor ='#5F6886';
            
        });
        e.currentTarget.style.backgroundColor = '#E47A7C';
        e.currentTarget.style.borderColor = '#E47A7C';
        showImage(imageUrl);
    }
    const images = document.querySelectorAll('.img-small');
    console.log(images[0].firstChild.src)
    showImage(images[0].firstChild.src);
    
        images[0].style.backgroundColor = '#E47A7C';
        images[0].style.borderColor = '#E47A7C';
        images.forEach(image => {
            image.addEventListener('click', onClickImage);
            
        });
    function showImage(imageUrl) {
        
  document.getElementById('mainImage').src = imageUrl;
}
    </script>

{% endblock js %}
